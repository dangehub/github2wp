# 曲宝的博客备份

---start---
## 目录(2024年08月11日更新)
[测试新脚本是否能正常处理文件名中的 空格 这是front matter内的标题](https://blogs.qudange.top/p/%E6%B5%8B%E8%AF%95%E6%96%B0%E8%84%9A%E6%9C%AC%E6%98%AF%E5%90%A6%E8%83%BD%E6%AD%A3%E5%B8%B8%E5%A4%84%E7%90%86%E6%96%87%E4%BB%B6%E5%90%8D%E4%B8%AD%E7%9A%84%20%E7%A9%BA%E6%A0%BC%20%E8%BF%99%E6%98%AFfront%20matter%E5%86%85%E7%9A%84%E6%A0%87%E9%A2%98)

[Obsidian tar插件实现obsidian内部集成LLM对话](https://blogs.qudange.top/p/Obsidian%20tar%E6%8F%92%E4%BB%B6%E5%AE%9E%E7%8E%B0obsidian%E5%86%85%E9%83%A8%E9%9B%86%E6%88%90LLM%E5%AF%B9%E8%AF%9D)

[Obsidian 实现复制时自动上传图片到图床](https://blogs.qudange.top/p/Obsidian%20%E5%AE%9E%E7%8E%B0%E5%A4%8D%E5%88%B6%E6%97%B6%E8%87%AA%E5%8A%A8%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%88%B0%E5%9B%BE%E5%BA%8A)

[用 n8n 实现三步翻译](https://blogs.qudange.top/p/%E7%94%A8%20n8n%20%E5%AE%9E%E7%8E%B0%E4%B8%89%E6%AD%A5%E7%BF%BB%E8%AF%91)

[语音笔记AudioPen的“平替”](https://blogs.qudange.top/p/%E8%AF%AD%E9%9F%B3%E7%AC%94%E8%AE%B0AudioPen%E7%9A%84%E2%80%9C%E5%B9%B3%E6%9B%BF%E2%80%9D)

[AudioPen：让Ai帮你整理碎碎念，语音转书面化文字的利器](https://blogs.qudange.top/p/AudioPen%EF%BC%9A%E8%AE%A9Ai%E5%B8%AE%E4%BD%A0%E6%95%B4%E7%90%86%E7%A2%8E%E7%A2%8E%E5%BF%B5%EF%BC%8C%E8%AF%AD%E9%9F%B3%E8%BD%AC%E4%B9%A6%E9%9D%A2%E5%8C%96%E6%96%87%E5%AD%97%E7%9A%84%E5%88%A9%E5%99%A8)

[obcsapi —— 最好的obsidian工具（需要云部署）](https://blogs.qudange.top/p/obcsapi%20%E2%80%94%E2%80%94%20%E6%9C%80%E5%A5%BD%E7%9A%84obsidian%E5%B7%A5%E5%85%B7%EF%BC%88%E9%9C%80%E8%A6%81%E4%BA%91%E9%83%A8%E7%BD%B2%EF%BC%89)

[安卓透明代理，上手 box for magisk](https://blogs.qudange.top/p/%E5%AE%89%E5%8D%93%E9%80%8F%E6%98%8E%E4%BB%A3%E7%90%86%EF%BC%8C%E4%B8%8A%E6%89%8B%20box%20for%20magisk)

[如何下载网易云音乐的普通歌词与双语歌词](https://blogs.qudange.top/p/%E5%A6%82%E4%BD%95%E4%B8%8B%E8%BD%BD%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E7%9A%84%E6%99%AE%E9%80%9A%E6%AD%8C%E8%AF%8D%E4%B8%8E%E5%8F%8C%E8%AF%AD%E6%AD%8C%E8%AF%8D)

[安卓端用tasker实现ai总结b站](https://blogs.qudange.top/p/%E5%AE%89%E5%8D%93%E7%AB%AF%E7%94%A8tasker%E5%AE%9E%E7%8E%B0ai%E6%80%BB%E7%BB%93b%E7%AB%99)

[wordpress导入rss以同步全平台](https://blogs.qudange.top/p/wordpress%E5%AF%BC%E5%85%A5rss%E4%BB%A5%E5%90%8C%E6%AD%A5%E5%85%A8%E5%B9%B3%E5%8F%B0)

[标题](https://blogs.qudange.top/p/%E6%A0%87%E9%A2%98)

[三星浏览器调教记录](https://blogs.qudange.top/p/%E4%B8%89%E6%98%9F%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B0%83%E6%95%99%E8%AE%B0%E5%BD%95)

[安卓使用 Thanox 实现安装新应用自动加入 Magisk 的 Denylist（Shamiko 实现）](https://blogs.qudange.top/p/%E5%AE%89%E5%8D%93%E4%BD%BF%E7%94%A8%20Thanox%20%E5%AE%9E%E7%8E%B0%E5%AE%89%E8%A3%85%E6%96%B0%E5%BA%94%E7%94%A8%E8%87%AA%E5%8A%A8%E5%8A%A0%E5%85%A5%20Magisk%20%E7%9A%84%20Denylist%EF%BC%88Shamiko%20%E5%AE%9E%E7%8E%B0%EF%BC%89)

[测试github2wordpress](https://blogs.qudange.top/p/%E6%B5%8B%E8%AF%95github2wordpress)

[](https://blogs.qudange.top/p/)

[Obsidian 实现复制时自动上传图片到图床](https://blogs.qudange.top/p/Obsidian%20%E5%AE%9E%E7%8E%B0%E5%A4%8D%E5%88%B6%E6%97%B6%E8%87%AA%E5%8A%A8%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%88%B0%E5%9B%BE%E5%BA%8A)

[Obsidian tar插件实现obsidian内部集成LLM对话](https://blogs.qudange.top/p/Obsidian%20tar%E6%8F%92%E4%BB%B6%E5%AE%9E%E7%8E%B0obsidian%E5%86%85%E9%83%A8%E9%9B%86%E6%88%90LLM%E5%AF%B9%E8%AF%9D)

[](https://blogs.qudange.top/p/)

[测试新脚本 子目录能否正常同步](https://blogs.qudange.top/p/%E6%B5%8B%E8%AF%95%E6%96%B0%E8%84%9A%E6%9C%AC%20%E5%AD%90%E7%9B%AE%E5%BD%95%E8%83%BD%E5%90%A6%E6%AD%A3%E5%B8%B8%E5%90%8C%E6%AD%A5)

---end---
## 项目介绍

平时用obsidian写东西，整理好后发布到github上，通过github pages做一个静态博客，然后用github action同步到自建博客上。
obsidian作为一个好用的编辑器，自建博客的功能更完善，而github pages做永久备份。

## 博客地址

我的wordpress：https://blogs.qudange.top

我的github blog： https://dangehub.github.io

## obsidian端设置
1. 安装插件`Github Publisher`
2. 配置插件：其他保持不动，修改以下选项
    - Repository Nmae: <github2wp>
    - GitHub Username: <your github name>
    - Github Token: <your github token>
    - Default Folder: _posts  #此选项位于Upload configuration中
3. 使用方法：在obsidian的文章yaml区中加入字段`share: true`，然后执行obsidian命令`Github Publisher:Upload single current active note`

ps：只要是能发布到github，其实什么插件都行，不用插件直接用git也行。不过这个插件能够检测所有打了share标记的文章，并且能只上传修改过的文章，比git用起来更省心。可以将常用的yaml头做成obsidian模板，这里也附上我的模板：

```
---
share: true 
title: 标题
tags: 
- geek
categories:
- Github
---

```

## 用Github Actions写Markdown文章，自动更新到WordPress


- 写博客最舒服的格式是Markdown；

- 管理博客站最省心的方式是WordPress；

- 最稳定的博客是Github；



这个项目可以让你用Markdown写博客，push更新到Github后，Github Actions自动将文章更新到WordPress，并将WordPres站的文章索引更新到Github仓库的README.md，供搜索引擎收录。



![image-20210119181051609](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123033557RhdS4nmK.png)



### 如何实现WordPress登录授权？

WordPress默认开启了xmlrpc服务，xmlrpc是一套的统用的博客更新标准，允许用户以POST方式自动对文章内容进行增删改查。授权方式为 用户名 和 密码, 在WordPress中是后台登录的账户名和密码

假设WordPress网站为 [https://fangyuanxiaozhan.com](https://fangyuanxiaozhan.com) 

![image-20210119180338929](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123033711jFFFRE3D.png)

它的xmlrpc服务地址为  [https://fangyuanxiaozhan.com/xmlrpc.php](https://fangyuanxiaozhan.com/xmlrpc.php)

![image-20210119180403270](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123033808cFthmwwi.png)



### 使用Github Actions 有什么好处？

Github Actions 可以让我们无需安装开发环境，即可完成代码的运行。

![image-20210119180656968](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123033850KpH03KNE.png)

对于本项目而言，我可以用手机版Git App，或者Github网页完成新建文章, 然后push到仓库，Github Actions会自动帮我完成相关代码运行，代码可以帮我更新文章到WordPress网站，并生成新的文章目录索引，并自动给你更新到README.md, 供搜索引擎收录。



![image-20210119180529083](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123033950bTXn7Skr.png)


### 如何保护自己的WordPress账户密码？


Github 有一个secrets 功能，可以将用户名密码等关键信息保护起来，只有Github Actions可以读取到关键信息。

本项目需要设置三个secret



- WordPress登录用户名, 变量名为 USERNAME
- WordPress登录密码，变量名为 PASSWORD
- WordPress的xmlrpc.php，变量名为 XMLRPC_PHP







![image-20210119173133800](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/16111230341284PaHwCDm.png)



### 如何新建文章？

在`_post` 目录下新建 后缀为 `.md` 的markdown文件即可

![image-20210119181544158](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/16111230342738acPGWSM.png)



### 文章管理：如何为文章分类/加关键词标签？

在 `.md` 文件顶部填写以下初始化信息，即可完成标题（title），标签（tags），分类（categories）的设置，**其中title为必填项目**（这些关键词不是我定义的，我借用了著名静态博客构建工具 [hexo](https://github.com/hexojs/hexo) 的标准）








```
---
title: 我是标题
tags: 
- 我是0号标签关键词
- 我是1号标签关键词
- 我是2号标签关键词
categories:
- 我是1号分类
- 我是2号分类
---

```







## 标签(tags)和分类(categories)有什么区别？

标签(tags)是针对单篇文章的关键词，比如香蕉的标签有 **黄色**，**味甜** （标签是香蕉的属性）
分类(categories)是本篇文章的归属，比如香蕉的分类为 **水果**，**植物** 

![image-20210119182027684](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123034368EXM02d37.png)

###  如何设置固定链接？

对于博客而言，文章拥有一个固定的链接，是很重要的，我经过各种尝试，最终借鉴了 [简书](jianshu.com) 的文章url形式，域名后加 `/p/` , 再加英文文件名，只要不改变英文文件名，文章就有固定的链接，我在`_posts` 目录下新建一个 `2020-01-18-blog.md` 文件，同步后的文章url为 



[https://fangyuanxiaozhan.com/p/2020-01-18-blog/](https://fangyuanxiaozhan.com/p/2020-01-18-blog/)



文件名与网站url严格对应，既方便了修改，又可以在网站数据库出事故后，迅速从github仓库迅速恢复文章内容（容灾），连url都不会变。




![image-20210119171713841](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123034673aad52Amb.png)



## 如何使用？

完成以上配置后

每次在`_posts` 文件夹新增或更新文章后，运行

```
git pull && git add _posts && git commit -m "update" && git push
```

![image-20210119182503520](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123034888HbKthGTh.png)

即可！



![image-20210119182653436](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123036038n18wBCfT.png)



###  Github README.md显示效果,（新增的文章排在首位）



![image-20210119184015781](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/16111230361713668ZtFR.png)



### WordPress网站也同步发布了文章

![image-20210119182849720](https://raw.githubusercontent.com/zhaoolee/WordPressXMLRPCTools/master/README/1611123036272XED7hTE0.png)

[https://fangyuanxiaozhan.com/p/2020-01-19-18-00-wordpressxmlrpctools/](https://fangyuanxiaozhan.com/p/2020-01-19-18-00-wordpressxmlrpctools/)




[https://imgkr.com/#upload](https://imgkr.com/#upload)

Pocket Git 和 MT管理器可以配合完成Git 文件的新增更新和上传。


